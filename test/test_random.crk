# Copyright 2013 Conrad Steenberg <conrad.steenberg@gmail.com>
# 
#   This Source Code Form is subject to the terms of the Mozilla Public
#   License, v. 2.0. If a copy of the MPL was not distributed with this
#   file, You can obtain one at http://mozilla.org/MPL/2.0/.
# 
# test random numbers

import crack.cont.numericarray NumericVector;
import crack.io cout;
import crack.random MersenneTwister;
import crack.runtime exit;

mt := MersenneTwister(uint(3574097475));

na := mt.get(100);
expected := NumericVector[uint]![3542857284, 3808373109, 743890126, 2546138997,
                                 1756061767, 2725027797, 927598310, 1235023073,
                                 1854885191, 3893843736, 3162164390, 879830743,
                                 345514652, 793463938, 1448136426, 2819824904,
                                 4250819547, 1473162144, 2078954585, 3796050154,
                                 163317782, 3301394387, 3025055565, 2736062622,
                                 2263309905, 489664156, 612769902, 304844336,
                                 2155715463, 3771707834, 2940534676, 2978911229,
                                 825783478, 3406163491, 336463834, 1078501725,
                                 2660609185, 2423390361, 1170524262, 1794732584,
                                 341523671, 1215706288, 3691392655, 3723716110,
                                 772542914, 1986813897, 1503487217, 1424278011,
                                 1652249339, 2420900662, 1026016740, 3684086745,
                                 785392363, 2342761629, 3289070775, 1471798910,
                                 747979384, 3311336815, 827102905, 1881514616,
                                 2423220588, 3751772023, 1623901865, 1911853164,
                                 978610263, 80006449, 2393756634, 1290704634,
                                 177991129, 2188387026, 389947285, 3691137361,
                                 3749557569, 1420621428, 1854811931, 4211830423,
                                 4027488843, 920286972, 1305612823, 1008746251,
                                 2921031781, 1769750266, 1285948387, 679001788,
                                 81825528, 1220475191, 1105448642, 66615410,
                                 2328272286, 1973563069, 1619346002, 164991128,
                                 419421875, 2978433388, 1762553207, 3949511239,
                                 2913808720, 2287318364, 3601367485, 4158155324
                                 ];
if (na != expected) {
    cout `Error generating expected sequence\n`;
    exit(1);
}

cout `ok\n`;
