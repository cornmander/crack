// A few tests for lists and linked list appending and popping from the head
// and tail
// (C) Conrad Steenberg <conrad.steenberg@gmail.com>
// June 1 2012

import crack.io cout;

import crack.cont.list DList, List;
import crack.cont.hashmap OrderedHashMap; // Also uses a list
List[int] nums = {};
DList[int] dnums = {};
OrderedHashMap[int, int] map = {};

//------------------------------------------------------------------------------
// List
nums.append(1);
nums.append(2);
if (nums.count()!=2) cout `List append failed: $nums\n`;

nums.popHead();

nums.popHead();
if (nums.count()) cout `List popHead failed: $nums\n`;

nums.append(1);
nums.append(2);
if (nums.count()!=2) cout `List append failed: $nums\n`;

nums.popHead();

nums.popHead();
if (nums.count()) cout `List popHead failed: $nums\n`;

//------------------------------------------------------------------------------
nums.append(1);
nums.append(2);
if (nums.count()!=2) cout `List append failed: $nums\n`;


nums.pop();

nums.pop();
if (nums.count()) cout `List popTail failed: $nums\n`;

nums.append(1);
nums.append(2);
if (nums.count()!=2) cout `List append failed: $nums\n`;


nums.pop();

nums.pop();
if (nums.count()) cout `List popTail failed: $nums, $(nums.count())\n`;

//------------------------------------------------------------------------------
// DList

dnums.append(1);
dnums.append(2);
if (dnums.count()!=2) cout `DList append failed: $dnums\n`;

dnums.popHead();

dnums.popHead();
if (dnums.count()) cout `DList popHead failed: $dnums\n`;

dnums.append(1);
dnums.append(2);
if (dnums.count()!=2) cout `DList append failed: $dnums\n`;


dnums.popHead();

dnums.popHead();
if (dnums.count()) cout `DList popHead failed: $dnums\n`;

//------------------------------------------------------------------------------

dnums.append(1);
dnums.append(2);
if (dnums.count()!=2) cout `DList append failed: $dnums\n`;


dnums.pop();

dnums.pop();
if (dnums.count()) cout `DList pop failed: $dnums\n`;

dnums.append(1);
dnums.append(2);
if (dnums.count()!=2) cout `DList append failed: $dnums\n`;


dnums.pop();

dnums.pop();
if (dnums.count()) cout `DList popHead failed: $dnums\n`;

//------------------------------------------------------------------------------
// OrderedHashMap

map.append(1, 1);
map.append(2, 2);
if (map.count()!=2) cout `OrderedHashMap append failed: $map\n`;

map.popHead();

map.popHead();
if (map.count()) cout `OrderedHashMap popHead failed: $map\n`;

map.append(1, 1);
map.append(2, 1);
if (map.count()!=2) cout `OrderedHashMap append failed: $map\n`;


map.popHead();

map.popHead();
if (map.count()) cout `OrderedHashMap popHead failed: $map\n`;

//------------------------------------------------------------------------------

map.append(1, 1);
map.append(2, 2);
if (map.count()!=2) cout `OrderedHashMap append failed: $map\n`;


map.pop();

map.pop();
if (map.count()) cout `OrderedHashMap pop failed: $map\n`;

map.append(1, 1);
map.append(2, 1);
if (map.count()!=2) cout `OrderedHashMap append failed: $map\n`;


map.pop();

map.pop();
if (map.count()) cout `OrderedHashMap popHead failed: $map\n`;


cout `ok\n`;
