# Copyright 2010 Google Inc.
# Extension tests.

import test.testext echo, MyType;
import crack.io cout;
if (String(echo("hello".buffer)) != "hello")
    cout `failed on function invocation\n`;

t := MyType();
if (String(t.echo('bite me'.buffer)) != 'bite me') 
    cout `failed on method invocation\n`;

if (t.a != 100)
    cout `integer instance variable not set.\n`;

if (String(t.b) != 'test')
    cout `string instance variable not set.\n`;

cout `ok\n`;